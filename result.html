<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Fashion Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white font-sans">
    <header class="flex justify-between items-center p-4">
        <div class="text-lg font-bold">Fashion Generator</div>
        <nav class="flex space-x-4">
            <a class="hover:underline" href="/">Home</a>
        </nav>
    </header>
    <main class="flex flex-col items-center mt-10">
        <h1 class="text-3xl font-bold mb-6">That's a look!</h1>
        <img alt="Processed Outfit" class="rounded-lg mb-6" id="resultImage" src="{{ image_url }}"/>
        <button class="bg-gray-800 text-white py-2 px-4 rounded-full mb-4" onclick="downloadImage()">Download Image</button>
        <a class="text-gray-400 hover:underline" href="/upload">Try another outfit</a>
    </main>

    <script>
        function downloadImage() {
            const imageUrl = document.getElementById('resultImage').src;
            const link = document.createElement('a');
            link.href = imageUrl;
            link.download = 'processed_outfit.png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>